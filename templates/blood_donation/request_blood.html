{% extends 'base.html' %}
{% load static %}
{% block content %}

<header id="home" class="header-area">

    <div class="shape header-shape-one" style="top: -97px ">
        <img src="{% static '/images/banner/shape/shape-1.png' %}" alt="shape">
    </div> <!-- header shape one -->

    <div class="shape header-shape-tow animation-one" style="top: 31px;left: 24%;">
        <img src="{% static '/images/banner/shape/shape-2.png' %}" alt="shape">
    </div> <!-- header shape tow -->

     <div class="shape header-shape-three animation-one" style="left: 97px;bottom: -470px;">
        <img src="{% static '/images/banner/shape/shape-3.png' %}" alt="shape">
    </div> <!-- header shape three --> 

    <div class="shape header-shape-fore" style="left: 67%; bottom: -424px;">
        <img src="{% static '/images/banner/shape/shape-4.png' %}" alt="shape">
    </div> <!-- header shape three -->



</header>

<div class="card mx-auto" style="max-width: 500px; margin-top:100px; max-height:100% ">
  
  <div class="container">
    {% include 'includes/alerts.html' %}
    <div class="reqh">
    <h3>REQUEST BLOOD</h3>
    </div>
    <form method="POST"> {% csrf_token %}
     
<div class="row mt-4">
    <div class="form-group input-data col-md-12">
        <label for="name" class="form__label"></label>
      
        {{form.name}}
    </div>
</div>
 
<div class="row mt-1">
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;"></i></label>
        {{form.email}}
    </div>
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;"></i></label>
        {{form.phone}}
    </div>
</div>
 
<div class="row mt-1">
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;"></i></label>
        {{form.state}}
    </div>
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;"></i></label>
       {{form.city}}
    </div>
</div>
 
<div class="row mt-1">
    <div class="form-group col-md-12">
        <label><i style="font-weight: bold;"></i></label>
       {{form.address}}
    </div>
</div>
 
<div class="row mt-1">
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;"> </i></label>
        
         {{form.blood_group}}
    </div>
    <div class="form-group col-md-6">
        <label><i style="font-weight: bold;">  </i></label>
        {{ form.date }}
    </div>
</div>
<div class="text-center">
<button type="submit" class="btn btn-primary button-86 mx-auto d-block" style="margin-top:35px; padding: 7px 90px; ">REQUEST</button>
</div>
</form>
</div>
{% comment %} <p class="text-center mt-4" style="padding-top: 31px;">Edit Your request <a href="{% url 'edit_bloodrequest' %}">Here</a></p> {% endcomment %}
</div>
<br>
<br>
<div class="container" style="padding-top: 50px;">
  {% if user_reqs %}
  <h3 class="text-center">Your Blood Requests</h3>
  <br>
  <table class="table table-sm table-bordered">
    <tr class="table-danger">
      <th>Name</th>
      <th>Phone</th>
      <th>Email</th>
      <th>Blood Group</th>
      <th>Donation Date</th>
      <th>State | City</th>
      <th></th>
    </tr>
    {% for blood_req in user_reqs %}
      <tr>
        <td>{{blood_req.name}}</td>
        <td>{{blood_req.phone}}</td>
        <td>{{blood_req.email}}</td>
        <td>{{blood_req.blood_group}}</td>
        <td>{{blood_req.date}}</td>
        <td>{{blood_req.state}} | {{blood_req.city}}</td>
        <td><a class="btn edit-btn" href="{% url 'edit_bloodrequest' blood_req.id %}" role="button" style="padding: 2px 23px; ">Edit</a>
          <form action="{% url 'delete_blood_request' blood_req.id %}" method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger" style="padding: 2px 23px;">Delete</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </table>
  {% else %}
  <h2>No Blood Request Available</h2>
  {% endif %}
  </div>
<br>
<br>
<div class="container" style="padding-top: 50px;">
    {% if requests %}
    <h3 class="text-center">All Blood Requests</h3>
    <br>
    <table class="table table-sm table-bordered">
      <tr class="table-danger">
        <th>Name</th>
        <th>Phone</th>
        <th>Email</th>
        <th>Blood Group</th>
        <th>Donation Date</th>
        <th>State | City</th>
      </tr>
      {% for i in requests %}
        <tr>
          <td>{{i.name}}</td>
          <td> <a href="https://wa.me/{{ i.phone }}">{{ i.phone }}</a></td>
          <td>{{i.email}}</td>
          <td>{{i.blood_group}}</td>
          <td>{{i.date}}</td>
          <td>{{i.state}} | {{i.city}}</td>
        </tr>
      {% endfor %}
    </table>
    {% else %}
    <h2>No Blood Request Available</h2>
    {% endif %}
    </div>

<style>
    .button-86 {
        all: unset;
        width: 100px;
        height: 30px;
        font-size: 16px;
        background: transparent;
        border: none;
        position: relative;
        color: #f0f0f0;
        cursor: pointer;
        z-index: 1;
        padding: 10px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
      }
      
      .button-86::after,
      .button-86::before {
        content: '';
        position: absolute;
        bottom: 0;
        right: 0;
        z-index: -99999;
        transition: all .4s;
      }
      
      .button-86::before {
        transform: translate(0%, 0%);
        width: 100%;
        height: 100%;
        background: #28282d;
        border-radius: 10px;
      }
      
      .button-86::after {
        transform: translate(10px, 10px);
        width: 35px;
        height: 35px;
        background: #ffffff15;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        border-radius: 50px;
      }
      
      .button-86:hover::before {
        transform: translate(5%, 20%);
        width: 110%;
        height: 110%;
      }
      
      .button-86:hover::after {
        border-radius: 10px;
        transform: translate(0, 0);
        width: 100%;
        height: 100%;
      }
      
      .button-86:active::after {
        transition: 0s;
        transform: translate(0, 5%);
      }
.btn-danger{
  color:#000 !important;
}
.btn-danger:hover{
color:#fff !important;
}
.edit-btn{
  color:#000 !important;
}
.edit-btn:hover{
  color:#fff !important;
}
</style>
{% endblock %}